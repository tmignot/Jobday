<template name="Adverts">
	<div id="AdvertsList" class="col-xs-12 nopad">
		{{>pages}}
		{{>pagesNav}}
	</div>
</template>

<template name="searchMission">
	<div class='col-xs-12'>
		<span class='col-md-3 button-container'>
			<span  id="btnSearchJobParticulier" class="col-xs-12 button blue glyphicon glyphicon-search"> Job<br>entre Particuliers</span>
		</span>
		<span class='col-md-3 button-container'>
			<span  id="btnSearchJobProfessionel" class="col-xs-12 button blue glyphicon glyphicon-search"> Job<br>Professionnel</span>
		</span>
		<span class='col-md-3 button-container'>
			<span  id="btnSearchJobAll" class="col-xs-12 button blue glyphicon glyphicon-search"><br>Tous les Jobs</span>
		</span>
		<span class='col-md-3 button-container'>
			<span  id="btnSearchJobOnline" class="col-xs-12 button blue glyphicon glyphicon-search"> Job<br>Connecté </span>
		</span>
	</div>
	<div class='form col-xs-12 bleft section'>
		<div class='col-xs-12 col-md-6'>
			<div class="form-group col-xs-12">
				<label class="control-label">Catégorie</label>
				<select autocomplete="off" id="categorySelect" class="form-control">
					<option value="off">Toutes Catégories</option>
					{{#each categories}}
					<option value="{{index}}">{{name}}</option>
					{{/each}}
				</select>
			</div>
			<div class="form-group col-xs-12">
				<label class="control-label">Sous Catégorie</label>
				<select autocomplete="off" id="subcatSelect" class="form-control" {{subdisabled}}>
					{{#each subcategories}}
					<option value='{{index}}'>{{name}}</option>
					{{/each}}
				</select>
			</div>
		</div>
		<div class='col-xs-12 col-md-6'>
			<div class='form-group col-xs-12'>
			<input type="text"  class="form-control" placeholder="Votre Besoin ?" id="besoin" aria-describedby="sizing-addon1" style="margin-top: 2px;margin-bottom: 2px;">
			</div>
			<div class='form-group col-xs-12'>
			<input class='form-control' placeholder='Localisation' id='localisation'>
			</div>
			<div class='form-group col-xs-12'>
			<input class='form-control' placeholder='Mots-clefs' id='keyword'>
			</div>
		</div>
	</div>
	<div class='col-xs-12 bleft section'>
	<div class='col-xs-12 col-md-6'>
		<label class='control-label'>Trier Par :</label>
		<select class='form-control' id='sort-type'>
			<option value='date_desc'>Date Publication Récente (Par défaut)</option>
			<option value='date_asc'>Urgence</option>
			<option value='price_asc'>Prix croissant</option>
			<option value='price_desc'>Prix décroissant</option>
		</select>
	</div>
	<div class='col-xs-12 col-md-6 section'>
		<div class='button-container'>
			<span id="btnSearch" class="button orange glyphicon glyphicon-search col-xs-6 col-xs-offset-3"> Rechercher </span>
		</div>
	</div>
	</div>
	<div class="ligneTableau col-xs-12">
		<div class="celluleTableau col-xs-12 col-md-6 nopad">
			{{> Adverts}}
		</div>
		<div class="celluleTableau col-xs-12 col-md-6">
			<div id='searchMissionMap' data-spy='affix' data-offset-top='400'></div>
		</div>
	</div>
</template>

<template name="mapsMission">
	<div id="map" style="height:350px;width:375px;"></div>
	<script>
		var map;
		function initMap() {
			var geocoder = new google.maps.Geocoder();
			var address = "13 boulevard de l'hôpital Stell, 92500 Rueil-MalMaison"//"new york";
			geocoder.geocode( { 'address': address}, function(results, status) {
				if (status == google.maps.GeocoderStatus.OK) {
					var latitude = results[0].geometry.location.lat();
					var longitude = results[0].geometry.location.lng();
					map = new google.maps.Map(document.getElementById('map'), {
						center: {lat: latitude, lng: longitude},
						zoom: 12
					});
					var location = { lat: latitude, lng: longitude }; 
					var contentString = '<div id="content">'+
						'<div id="siteNotice">'+
						'</div>'+
						'<h1 id="firstHeading" class="firstHeading">Titre Mission</h1>'+
						'<div id="bodyContent">'+
						'<p><b>Roman</b>, cherche un bon plan ;)' +
						'Vive Jobday.</p>'+
						'<p>Attribution: Jobday, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
						'Détails Annonce</a> '+
						'</p>'+
						'</div>'+
						'</div>';
					var infowindow = new google.maps.InfoWindow({
						content: contentString
					});
					var marker = new google.maps.Marker({
						position: location,
						map: map,
						title: 'Job Information'
					});
					marker.addListener('click', function() {
						infowindow.open(map, marker);
					});
				}
			}); 
			address = "1 boulevard de l'hôpital Stell, 92500 Rueil-MalMaison";
			geocoder.geocode( { 'address': address}, function(results, status) {
				if (status == google.maps.GeocoderStatus.OK) {
					var latitude = results[0].geometry.location.lat();
					var longitude = results[0].geometry.location.lng();
					var location = { lat: latitude, lng: longitude }; 
					var contentString = '<div id="content">'+
						'<div id="siteNotice">'+
						'</div>'+
						'<h1 id="firstHeading" class="firstHeading">Titre Mission2</h1>'+
						'<div id="bodyContent">'+
						'<p><b>Roman</b>, cherche un bon plan ;)' +
						'Vive Jobday.</p>'+
						'<p>Attribution: Jobday, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
						'Détails Annonce</a> '+
						'</p>'+
						'</div>'+
						'</div>';
					var infowindow = new google.maps.InfoWindow({
						content: contentString
					});
					var marker = new google.maps.Marker({
						position: location,
						map: map,
						title: 'Job Information'
					});
					marker.addListener('click', function() {
						infowindow.open(map, marker);
					});
				}
			}); 
		}
	</script>
</template>
